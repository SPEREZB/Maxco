<div class="p-6">
    <h1 class="text-2xl font-bold mb-4 text-gray-800">Gestión de usuarios</h1>
  
    <!-- Formulario -->
    <form (ngSubmit)="guardarUsuario()" class="grid grid-cols-1 md:grid-cols-2 gap-4 bg-white shadow-lg rounded-2xl p-6 mb-6">
      <input type="hidden" [(ngModel)]="usuario.id_usuario" name="id_usuario" />
  
      <div>
        <label class="block text-sm font-medium text-gray-700">Nombre</label>
        <input type="text" [(ngModel)]="usuario.nombre" name="nombre"
               class="mt-1 block w-full border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500"/>
      </div>
  
      <div>
        <label class="block text-sm font-medium text-gray-700">Email</label>
        <input type="email" [(ngModel)]="usuario.email" name="email"
               class="mt-1 block w-full border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500"/>
      </div>
  
      <div>
        <label class="block text-sm font-medium text-gray-700">Teléfono</label>
        <input type="text" [(ngModel)]="usuario.telefono" name="telefono"
               class="mt-1 block w-full border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500"/>
      </div>
  
      <div>
        <label class="block text-sm font-medium text-gray-700">Dirección</label>
        <input type="text" [(ngModel)]="usuario.direccion" name="direccion"
               class="mt-1 block w-full border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500"/>
      </div>
  
      <div>
        <label class="block text-sm font-medium text-gray-700">Rol</label>
        <select [(ngModel)]="usuario.rol" name="rol"
                class="mt-1 block w-full border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500">
          <option value="CLT">Cliente</option>
          <option value="VND">Vendedor</option>
        </select>
      </div>
  
      <div>
        <label class="block text-sm font-medium text-gray-700">Contraseña</label>
        <input type="password" [(ngModel)]="usuario.password" name="password"
               class="mt-1 block w-full border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500"/>
      </div>
  
      <div class="md:col-span-2 flex justify-end">
        <button type="submit"
                class="px-4 py-2 bg-indigo-600 text-white font-semibold rounded-lg shadow hover:bg-indigo-700 transition">
          {{ usuario.id_usuario ? 'Actualizar' : 'Guardar' }}
        </button>
      </div>
    </form>
  
    <!-- Tabla -->
    <div class="bg-white shadow-lg rounded-2xl p-6">
      <h2 class="text-lg font-bold text-gray-700 mb-4">Lista de usuarios</h2>
      <table class="w-full border-collapse">
        <thead>
          <tr class="bg-indigo-100 text-left text-gray-700">
            <th class="p-2">ID</th>
            <th class="p-2">Nombre</th>
            <th class="p-2">Email</th>
            <th class="p-2">Teléfono</th>
            <th class="p-2">Rol</th>
            <th class="p-2 text-center">Acciones</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let u of usuarios" class="border-b hover:bg-gray-50">
            <td class="p-2">{{ u.id_usuario }}</td>
            <td class="p-2">{{ u.nombre }}</td>
            <td class="p-2">{{ u.email }}</td>
            <td class="p-2">{{ u.telefono }}</td>
            <td class="p-2">
              <span [ngClass]="u.rol === 'CLT' ? 'bg-green-100 text-green-700' : 'bg-blue-100 text-blue-700'"
                    class="px-2 py-1 rounded-full text-xs font-semibold">
                {{ u.rol }}
              </span>
            </td>
            <td class="p-2 flex gap-2 justify-center">
              <button (click)="editarUsuario(u)" class="px-3 py-1 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600">Editar</button>
              <button (click)="eliminarUsuario(u.id_usuario)" class="px-3 py-1 bg-red-600 text-white rounded-lg hover:bg-red-700">Eliminar</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  